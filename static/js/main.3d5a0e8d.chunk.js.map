{"version":3,"sources":["components/SearchBar.js","logic/ServerDataSearch.js","components/resultsDisplay/ResultBlock.js","components/resultsDisplay/ResultsPopup.js","components/resultsDisplay/AttributesPopup.js","components/App.js","index.js"],"names":["SearchBar","props","type","onChange","event","target","value","ServerDataSearch","url","mainProperty","this","compareByMainProperty","bind","object1","object2","searchString","toLowerCase","filter","object","includes","fetch","then","response","json","data","i","length","push","uniqueIdForUseInTheSearchEngine","sort","ResultBlock","className","onClick","onResultBlockClick","resultObject","ResultsPopup","React","useState","resultStartIndex","setResultStartIndex","useEffect","resultObjects","resultBlocks","Math","min","id","newIndex","console","log","AttributesPopup","visible","keys","Object","content","forEach","key","name1","name2","onExitClick","App","dataSearch","setResultObjects","attributesPopupObject","setAttributesPopupObject","getResultObjects","ReactDOM","render","document","getElementById"],"mappings":"uTAGe,SAASA,EAAUC,GAC9B,OACI,uBAAOC,KAAK,OAAOC,SAAU,SAAAC,GAAK,OAAIH,EAAME,SAASC,EAAMC,OAAOC,U,kFCFrDC,E,WAGjB,WAAYC,EAAKC,GAAe,qHAC5B,YAAAC,KAAA,MAAa,GACbA,KAAKD,aAAeA,EACpBC,KAAKC,sBAAwBD,KAAKC,sBAAsBC,KAAKF,MAC7D,YAAAA,KAAA,MAAWF,G,yDAiBf,SAAsBK,EAASC,GAC3B,OAAID,EAAQH,KAAKD,cAAgBK,EAAQJ,KAAKD,eAAuB,EACjEI,EAAQH,KAAKD,cAAgBK,EAAQJ,KAAKD,cAAsB,EAC7D,I,8BAGX,SAAiBM,GAAe,IAAD,OAI3B,OAHAA,EAAeA,EAAaC,cAEb,YAAAN,KAAA,MAAWO,QAAO,SAAAC,GAAM,OAAKA,EAAO,EAAKT,cAAcO,cAAeG,SAASJ,U,gBAvB5FP,GAAM,IAAD,OACPY,MAAMZ,GACLa,MAAK,SAAAC,GAAQ,OAAKA,EAASC,OAC3BF,MAAK,SAAAG,GACF,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAKE,OAAQD,IAC7B,cAAI,GAAJ,GAAWE,KAAKH,EAAKC,IACrB,cAAI,GAAJ,GAAWA,GAAGG,gCAAkCH,EAGpD,cAAI,GAAJ,GAAWI,KAAK,EAAKlB,6B,MCnBlB,SAASmB,EAAY7B,GAChC,OACI,wBAAQC,KAAK,SAAS6B,UAAU,cAAcC,QAAS/B,EAAMgC,mBAA7D,SAAkFhC,EAAMiC,aAAajC,EAAMQ,gB,MCDpG,SAAS0B,EAAalC,GACjC,MAAgDmC,IAAMC,SAAS,GAA/D,mBAAOC,EAAP,KAAyBC,EAAzB,KAGAC,qBAAU,WACND,EAAoB,KACrB,CAACtC,EAAMwC,gBAGV,IADA,IAAMC,EAAe,GARmB,WAS/BjB,GACLiB,EAAaf,KAAK,cAAC,EAAD,CACdO,aAAcjC,EAAMwC,cAAchB,GAClCQ,mBAAoB,kBAAMhC,EAAMgC,mBAAmBhC,EAAMwC,cAAchB,KACvEhB,aAAcR,EAAMQ,cAHYgB,KAD/BA,EAAIa,EAAkBb,EAAIkB,KAAKC,IAAIN,EAPd,GAOwDrC,EAAMwC,cAAcf,QAASD,IAAM,EAAhHA,GAsBT,OACI,sBAAKoB,GAAG,eAAR,UAEQP,EAhCkB,IAgC0B,GAAK,wBAAQpC,KAAK,SAAS6B,UAAU,iBAAiBC,QAlB9G,WAEIO,EADiBD,EAfS,KAgC+B,sBAEpDI,EAEGJ,EApCkB,GAoCyBrC,EAAMwC,cAAcf,QAAU,wBAAQxB,KAAK,SAAS6B,UAAU,iBAAiBC,QAjBtI,WACI,IAAMc,EAAWR,EApBS,GAqB1BS,QAAQC,IAAIF,GACZP,EAAoBO,IAc6D,qB,MCvC1E,SAASG,EAAgBhD,GAEpC,GADA8C,QAAQC,IAAI/C,EAAMiD,SACG,OAAjBjD,EAAMiB,OAAiB,OAAQ,KAkBnC,IAAMiC,EAAOC,OAAOD,KAAKlD,EAAMiB,QACzBmC,EAAU,GAKhB,OAJAF,EAAKG,SAAQ,SAAAC,GAlBb,IAAqBC,EAAOC,EAmBb,mCAAPF,GAA0CF,EAAQ1B,MAnBrC6B,EAmBsDD,EAnB/CE,EAmBoDxD,EAAMiB,OAAOqC,GAjBrF,+BACI,6BACKC,IAEL,oBAAIzB,UAAU,iBAAd,eAGA,6BACK0B,MARAD,QAqBb,qBAAKX,GAAG,WAAR,SACI,sBAAKA,GAAK,kBAAV,UACI,wBAAQA,GAAG,OAAOb,QAAS/B,EAAMyD,YAAjC,eACA,gDAAkB,4BAAIzD,EAAMiB,OAAOjB,EAAMQ,gBAAzC,OACA,gCACI,gCACK4C,WC3BV,SAASM,EAAK1D,GAEzB,MAAoCoC,mBAAS,IAAI9B,EAAiBN,EAAMO,IAAKP,EAAMQ,eAAnF,mBAAOmD,EAAP,KACA,GADA,KAC0CvB,mBAAS,KAAnD,mBAAOI,EAAP,KAAsBoB,EAAtB,KACA,EAAgDxB,mBAAS,GAAzD,mBAAOC,EAAP,KAAyBC,EAAzB,KACA,EAA0DF,mBAAS,MAAnE,mBAAOyB,EAAP,KAA8BC,EAA9B,KAqBA,OACI,sBAAKlB,GAAG,MAAR,UACI,0CAAa5C,EAAMO,OACnB,sBAAKqC,GAAG,oCAAR,UACI,cAAC,EAAD,CAAW1C,SArBvB,SAA+BY,GAC3B8C,EAAiBD,EAAWI,iBAAiBjD,IAC7CwB,EAAoB,MAoBZ,cAAC,EAAD,CAAcE,cAAeA,EAC7BH,iBAAkBA,EAClBL,mBAhBZ,SAAgCf,GAC5B6C,EAAyB7C,IAgBjBT,aAAcR,EAAMQ,kBAExB,cAAC,EAAD,CAAiBS,OAAQ4C,EACzBJ,YAhBR,WACIK,EAAyB,OAgBrBtD,aAAcR,EAAMQ,kB,0BCtChCwD,IAASC,OAAO,cAAC,EAAD,CAAK1D,IAAI,4EACzBC,aAAa,SAAU0D,SAASC,eAAe,W","file":"static/js/main.3d5a0e8d.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./SearchBar.css\";\n\nexport default function SearchBar(props) {\n    return (\n        <input type=\"text\" onChange={event => props.onChange(event.target.value)}></input>\n    );\n}","\n\n\nexport default class ServerDataSearch {\n    #data;\n    mainProperty;\n    constructor(url, mainProperty) {\n        this.#data = [];\n        this.mainProperty = mainProperty;\n        this.compareByMainProperty = this.compareByMainProperty.bind(this);\n        this.#init(url);\n    }\n\n    #init(url) {\n        fetch(url)\n        .then(response => (response.json())\n        .then(data => {\n            for (let i = 0; i < data.length; i++) {\n                this.#data.push(data[i]);\n                this.#data[i].uniqueIdForUseInTheSearchEngine = i;\n            } \n\n            this.#data.sort(this.compareByMainProperty);\n        }\n        ));\n    }\n    \n    compareByMainProperty(object1, object2) {\n        if (object1[this.mainProperty] < object2[this.mainProperty]) return -1;\n        if (object1[this.mainProperty] > object2[this.mainProperty]) return 1;\n        return 0;\n    }\n\n    getResultObjects(searchString) {\n        searchString = searchString.toLowerCase();\n        \n        const result = this.#data.filter(object => (object[this.mainProperty].toLowerCase()).includes(searchString));\n        return result;\n    }\n}\n\nfunction compareName(object1, object2) {\n    if (object1.name < object2.name) return -1;\n    if (object1.name > object2.name) return 1;\n    return 0;\n}\n\n\n\n\n/*\nconst url = \"https://raw.githubusercontent.com/lutangar/cities.json/master/cities.json\";\nnew ServerDataSearch(url, \"name\");\n*/\n\n\n","import React from \"react\";\nimport \"./ResultBlock.css\";\n\nexport default function ResultBlock(props) {\n    return (\n        <button type=\"button\" className=\"resultBlock\" onClick={props.onResultBlockClick}>{props.resultObject[props.mainProperty]}</button>\n    );\n}","import React, { useEffect, useState } from \"react\";\nimport ResultBlock from \"./ResultBlock\";\nimport \"./ResultsPopup.css\";\n\nexport default function ResultsPopup(props) {\n    const [resultStartIndex, setResultStartIndex] = React.useState(0);\n    const numberOfResultsOnPage = 20;\n\n    useEffect(() => {\n        setResultStartIndex(0);\n    }, [props.resultObjects]);\n    \n    const resultBlocks = [];\n    for (let i = resultStartIndex; i < Math.min(resultStartIndex + numberOfResultsOnPage, props.resultObjects.length); i++) {\n        resultBlocks.push(<ResultBlock key={i} \n            resultObject={props.resultObjects[i]} \n            onResultBlockClick={() => props.onResultBlockClick(props.resultObjects[i])}\n            mainProperty={props.mainProperty}/>);\n    }\n    \n    function handlePreviousButtonClick() {\n        const newIndex = resultStartIndex - numberOfResultsOnPage;\n        setResultStartIndex(newIndex);\n    }\n\n    function handleNextButtonClick() {\n        const newIndex = resultStartIndex + numberOfResultsOnPage;\n        console.log(newIndex);\n        setResultStartIndex(newIndex);\n    }\n\n    \n\n\n\n    return (\n        <div id=\"resultsPopup\">\n            {\n                resultStartIndex - numberOfResultsOnPage >= 0 && <button type=\"button\" className=\"positionButton\" onClick={handlePreviousButtonClick}>Previous</button>\n            }\n            {resultBlocks}\n            {\n                resultStartIndex + numberOfResultsOnPage < props.resultObjects.length && <button type=\"button\" className=\"positionButton\" onClick={handleNextButtonClick}>Next</button>\n            }\n        </div>\n    );\n    \n}\n\n","import React from \"react\";\nimport \"./AttributesPopup.css\";\n\nexport default function AttributesPopup(props){\n    console.log(props.visible);\n    if (props.object === null) return (null);\n\n    function getTableRow(name1, name2) {\n        return (\n            <tr key={name1}>\n                <td>\n                    {name1}\n                </td>\n                <td className=\"seperatingCell\">\n                    :\n                </td>\n                <td>\n                    {name2}\n                </td>\n            </tr>\n        );\n    }\n\n    const keys = Object.keys(props.object);\n    const content = [];\n    keys.forEach(key => {\n        if (key != \"uniqueIdForUseInTheSearchEngine\") content.push(getTableRow(key, props.object[key]));\n    });\n\n    return (\n        <div id=\"toCenter\">\n            <div id = \"attributesPopup\">\n                <button id=\"exit\" onClick={props.onExitClick}>X</button>\n                <h2>Properties of <u>{props.object[props.mainProperty]}</u>:</h2>\n                <table>\n                    <tbody>\n                        {content}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n    \n}","import React, { useState } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport \"./App.css\";\nimport ServerDataSearch from \"../logic/ServerDataSearch\";\nimport ResultsPopup from \"./resultsDisplay/ResultsPopup\";\nimport AttributesPopup from \"./resultsDisplay/AttributesPopup\";\n\n\n\nexport default function App (props) {\n\n    const [dataSearch, setDataSearch] = useState(new ServerDataSearch(props.url, props.mainProperty));\n    const [resultObjects, setResultObjects] = useState([]);\n    const [resultStartIndex, setResultStartIndex] = useState(0);\n    const [attributesPopupObject, setAttributesPopupObject] = useState(null);\n\n    \n\n    function handleSearchBarChange(searchString) {\n        setResultObjects(dataSearch.getResultObjects(searchString));\n        setResultStartIndex(0);\n    }\n    \n\n\n\n    function handleResultBlockClick(object) {\n        setAttributesPopupObject(object);\n    }\n\n    function handleAtrributesPopupExitClick() {\n        setAttributesPopupObject(null);\n    }\n\n    \n    return (\n        <div id=\"app\">\n            <h1>Search: {props.url}</h1>\n            <div id=\"SearchBarAndResultsPopupContainer\">\n                <SearchBar onChange={handleSearchBarChange}/>\n                <ResultsPopup resultObjects={resultObjects} \n                resultStartIndex={resultStartIndex}\n                onResultBlockClick={handleResultBlockClick}\n                mainProperty={props.mainProperty}/>\n            </div>\n            <AttributesPopup object={attributesPopupObject}\n            onExitClick={handleAtrributesPopupExitClick}\n            mainProperty={props.mainProperty}/>\n        </div>\n    )\n}","\nimport App from \"components/App\";\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\n\n//Insert url of an json file of your choice\n//Insert main property of the objects to search on\nReactDOM.render(<App url=\"https://raw.githubusercontent.com/lutangar/cities.json/master/cities.json\" \nmainProperty=\"name\"/>, document.getElementById(\"root\"));\n\n\n\n"],"sourceRoot":""}